{"version":3,"file":"Switch.stories.9d954d6b.js","sources":["../../node_modules/@radix-ui/react-switch/dist/index.module.js","../../src/components/Switch/styles.ts","../../src/components/Switch/index.tsx"],"sourcesContent":["import $irPIl$babelruntimehelpersesmextends from \"@babel/runtime/helpers/esm/extends\";\nimport {forwardRef as $irPIl$forwardRef, useState as $irPIl$useState, useRef as $irPIl$useRef, createElement as $irPIl$createElement, useEffect as $irPIl$useEffect} from \"react\";\nimport {composeEventHandlers as $irPIl$composeEventHandlers} from \"@radix-ui/primitive\";\nimport {useComposedRefs as $irPIl$useComposedRefs} from \"@radix-ui/react-compose-refs\";\nimport {createContextScope as $irPIl$createContextScope} from \"@radix-ui/react-context\";\nimport {useControllableState as $irPIl$useControllableState} from \"@radix-ui/react-use-controllable-state\";\nimport {usePrevious as $irPIl$usePrevious} from \"@radix-ui/react-use-previous\";\nimport {useSize as $irPIl$useSize} from \"@radix-ui/react-use-size\";\nimport {Primitive as $irPIl$Primitive} from \"@radix-ui/react-primitive\";\nimport {useLabelContext as $irPIl$useLabelContext} from \"@radix-ui/react-label\";\n\n\n\n\n\n\n\n\n\n\n\n/* -------------------------------------------------------------------------------------------------\n * Switch\n * -----------------------------------------------------------------------------------------------*/ const $6be4966fd9bbc698$var$SWITCH_NAME = 'Switch';\nconst [$6be4966fd9bbc698$var$createSwitchContext, $6be4966fd9bbc698$export$cf7f5f17f69cbd43] = $irPIl$createContextScope($6be4966fd9bbc698$var$SWITCH_NAME);\nconst [$6be4966fd9bbc698$var$SwitchProvider, $6be4966fd9bbc698$var$useSwitchContext] = $6be4966fd9bbc698$var$createSwitchContext($6be4966fd9bbc698$var$SWITCH_NAME);\nconst $6be4966fd9bbc698$export$b5d5cf8927ab7262 = /*#__PURE__*/ $irPIl$forwardRef((props, forwardedRef)=>{\n    const { __scopeSwitch: __scopeSwitch , 'aria-labelledby': ariaLabelledby , name: name , checked: checkedProp , defaultChecked: defaultChecked , required: required , disabled: disabled , value: value = 'on' , onCheckedChange: onCheckedChange , ...switchProps } = props;\n    const [button, setButton] = $irPIl$useState(null);\n    const composedRefs = $irPIl$useComposedRefs(forwardedRef, (node)=>setButton(node)\n    );\n    const labelId = $irPIl$useLabelContext(button);\n    const labelledBy = ariaLabelledby || labelId;\n    const hasConsumerStoppedPropagationRef = $irPIl$useRef(false); // We set this to true by default so that events bubble to forms without JS (SSR)\n    const isFormControl = button ? Boolean(button.closest('form')) : true;\n    const [checked = false, setChecked] = $irPIl$useControllableState({\n        prop: checkedProp,\n        defaultProp: defaultChecked,\n        onChange: onCheckedChange\n    });\n    return /*#__PURE__*/ $irPIl$createElement($6be4966fd9bbc698$var$SwitchProvider, {\n        scope: __scopeSwitch,\n        checked: checked,\n        disabled: disabled\n    }, /*#__PURE__*/ $irPIl$createElement($irPIl$Primitive.button, $irPIl$babelruntimehelpersesmextends({\n        type: \"button\",\n        role: \"switch\",\n        \"aria-checked\": checked,\n        \"aria-labelledby\": labelledBy,\n        \"aria-required\": required,\n        \"data-state\": $6be4966fd9bbc698$var$getState(checked),\n        \"data-disabled\": disabled ? '' : undefined,\n        disabled: disabled,\n        value: value\n    }, switchProps, {\n        ref: composedRefs,\n        onClick: $irPIl$composeEventHandlers(props.onClick, (event)=>{\n            setChecked((prevChecked)=>!prevChecked\n            );\n            if (isFormControl) {\n                hasConsumerStoppedPropagationRef.current = event.isPropagationStopped(); // if switch is in a form, stop propagation from the button so that we only propagate\n                // one click event (from the input). We propagate changes from an input so that native\n                // form validation works and form events reflect switch updates.\n                if (!hasConsumerStoppedPropagationRef.current) event.stopPropagation();\n            }\n        })\n    })), isFormControl && /*#__PURE__*/ $irPIl$createElement($6be4966fd9bbc698$var$BubbleInput, {\n        control: button,\n        bubbles: !hasConsumerStoppedPropagationRef.current,\n        name: name,\n        value: value,\n        checked: checked,\n        required: required,\n        disabled: disabled // We transform because the input is absolutely positioned but we have\n        ,\n        style: {\n            transform: 'translateX(-100%)'\n        }\n    }));\n});\n/*#__PURE__*/ Object.assign($6be4966fd9bbc698$export$b5d5cf8927ab7262, {\n    displayName: $6be4966fd9bbc698$var$SWITCH_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * SwitchThumb\n * -----------------------------------------------------------------------------------------------*/ const $6be4966fd9bbc698$var$THUMB_NAME = 'SwitchThumb';\nconst $6be4966fd9bbc698$export$4d07bf653ea69106 = /*#__PURE__*/ $irPIl$forwardRef((props, forwardedRef)=>{\n    const { __scopeSwitch: __scopeSwitch , ...thumbProps } = props;\n    const context = $6be4966fd9bbc698$var$useSwitchContext($6be4966fd9bbc698$var$THUMB_NAME, __scopeSwitch);\n    return /*#__PURE__*/ $irPIl$createElement($irPIl$Primitive.span, $irPIl$babelruntimehelpersesmextends({\n        \"data-state\": $6be4966fd9bbc698$var$getState(context.checked),\n        \"data-disabled\": context.disabled ? '' : undefined\n    }, thumbProps, {\n        ref: forwardedRef\n    }));\n});\n/*#__PURE__*/ Object.assign($6be4966fd9bbc698$export$4d07bf653ea69106, {\n    displayName: $6be4966fd9bbc698$var$THUMB_NAME\n});\n/* ---------------------------------------------------------------------------------------------- */ const $6be4966fd9bbc698$var$BubbleInput = (props)=>{\n    const { control: control , checked: checked , bubbles: bubbles = true , ...inputProps } = props;\n    const ref = $irPIl$useRef(null);\n    const prevChecked = $irPIl$usePrevious(checked);\n    const controlSize = $irPIl$useSize(control); // Bubble checked change to parents (e.g form change event)\n    $irPIl$useEffect(()=>{\n        const input = ref.current;\n        const inputProto = window.HTMLInputElement.prototype;\n        const descriptor = Object.getOwnPropertyDescriptor(inputProto, 'checked');\n        const setChecked = descriptor.set;\n        if (prevChecked !== checked && setChecked) {\n            const event = new Event('click', {\n                bubbles: bubbles\n            });\n            setChecked.call(input, checked);\n            input.dispatchEvent(event);\n        }\n    }, [\n        prevChecked,\n        checked,\n        bubbles\n    ]);\n    return /*#__PURE__*/ $irPIl$createElement(\"input\", $irPIl$babelruntimehelpersesmextends({\n        type: \"checkbox\",\n        \"aria-hidden\": true,\n        defaultChecked: checked\n    }, inputProps, {\n        tabIndex: -1,\n        ref: ref,\n        style: {\n            ...props.style,\n            ...controlSize,\n            position: 'absolute',\n            pointerEvents: 'none',\n            opacity: 0,\n            margin: 0\n        }\n    }));\n};\nfunction $6be4966fd9bbc698$var$getState(checked) {\n    return checked ? 'checked' : 'unchecked';\n}\nconst $6be4966fd9bbc698$export$be92b6f5f03c0fe9 = $6be4966fd9bbc698$export$b5d5cf8927ab7262;\nconst $6be4966fd9bbc698$export$6521433ed15a34db = $6be4966fd9bbc698$export$4d07bf653ea69106;\n\n\n\n\nexport {$6be4966fd9bbc698$export$cf7f5f17f69cbd43 as createSwitchScope, $6be4966fd9bbc698$export$b5d5cf8927ab7262 as Switch, $6be4966fd9bbc698$export$4d07bf653ea69106 as SwitchThumb, $6be4966fd9bbc698$export$be92b6f5f03c0fe9 as Root, $6be4966fd9bbc698$export$6521433ed15a34db as Thumb};\n//# sourceMappingURL=index.module.js.map\n","import { css } from \"@iglab-design-system/stitches\";\n\nexport const Root = css({\n  all: \"unset\",\n  backgroundColor: \"$gray-800\",\n  borderRadius: \"96px\",\n  height: \"24px\",\n  width: \"48px\",\n  position: \"relative\",\n  transition: \"background-color 150ms ease-out, box-shadow 150ms ease-out\",\n  \"&:focus-visible\": {\n    $$bg: \"$colors$gray-900\",\n    $$color: \"$colors$cyan-500\",\n    boxShadow: \"$$bg 0px 0px 0px 2px, $$color 0px 0px 0px 4px\",\n  },\n  \"&[data-state='checked']\": {\n    backgroundColor: \"$cyan-500\",\n  },\n});\n\nexport const Thumb = css({\n  display: \"block\",\n  height: \"20px\",\n  width: \"20px\",\n  borderRadius: \"10px\",\n  backgroundColor: \"$gray-100\",\n  transform: \"translateX(2px)\",\n  transition: \"transform 150ms ease-out\",\n  \"&[data-state='checked']\": {\n    transform: \"translateX(24px)\",\n  },\n});\n","import * as SwitchPrimitive from \"@radix-ui/react-switch\";\n\nimport * as Styled from \"./styles\";\n\nexport interface SwitchProps extends SwitchPrimitive.SwitchProps {}\n\nexport function Switch(props: SwitchProps) {\n  return (\n    <SwitchPrimitive.Root\n      className={Styled.Root({})}\n      aria-label=\"Switch\"\n      {...props}\n    >\n      <SwitchPrimitive.Thumb className={Styled.Thumb({})} />\n    </SwitchPrimitive.Root>\n  );\n}\n"],"names":["$6be4966fd9bbc698$var$SWITCH_NAME","$6be4966fd9bbc698$var$createSwitchContext","$6be4966fd9bbc698$export$cf7f5f17f69cbd43","$irPIl$createContextScope","$6be4966fd9bbc698$var$SwitchProvider","$6be4966fd9bbc698$var$useSwitchContext","$6be4966fd9bbc698$export$b5d5cf8927ab7262","$irPIl$forwardRef","props","forwardedRef","__scopeSwitch","ariaLabelledby","name","checkedProp","defaultChecked","required","disabled","value","onCheckedChange","switchProps","button","setButton","$irPIl$useState","composedRefs","$irPIl$useComposedRefs","node","labelId","$irPIl$useLabelContext","labelledBy","hasConsumerStoppedPropagationRef","$irPIl$useRef","isFormControl","checked","setChecked","$irPIl$useControllableState","$irPIl$createElement","$irPIl$Primitive","$irPIl$babelruntimehelpersesmextends","$6be4966fd9bbc698$var$getState","$irPIl$composeEventHandlers","event","prevChecked","$6be4966fd9bbc698$var$BubbleInput","$6be4966fd9bbc698$var$THUMB_NAME","$6be4966fd9bbc698$export$4d07bf653ea69106","thumbProps","context","__name","control","bubbles","inputProps","ref","$irPIl$usePrevious","controlSize","$irPIl$useSize","$irPIl$useEffect","input","inputProto","$6be4966fd9bbc698$export$be92b6f5f03c0fe9","$6be4966fd9bbc698$export$6521433ed15a34db","Root","css","Thumb","Switch","_jsx","SwitchPrimitive.Root","Styled.Root","Styled.Thumb"],"mappings":"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"}